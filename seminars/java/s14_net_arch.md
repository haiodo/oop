---
marp: true
---

# Клиент-серверные архитектуры

**Примеры с load balancer, базами данных, вертикальным и горизонтальным маштабированием**

---

### Слайд 1: Основные типы клиент-серверных архитектур

| Тип                | Пример                              | Преимущества                      | Недостатки                                    |
| ------------------ | ----------------------------------- | --------------------------------- | --------------------------------------------- |
| **Монолитная**     | Одно приложение + одна БД           | Простота разработки и управления  | Сложное маштабирование, связность компонентов |
| **Распределенная** | Кластер серверов + load balancer    | Гибкое маштабирование             | Комплексность настройки                       |
| **Микросервисная** | Независимые сервисы с отдельными БД | Удобное обновление/маштабирование | Высокая сложность управления                  |

---

### Слайд 2: Монолитная архитектура

**Пример:**

- Клиент → Веб-сервер (Apache/Nginx) + База данных (MySQL).
- **Вертикальное маштабирование**: Увеличение мощности сервера (CPU, RAM).
- Проблемы при высокой нагрузке: "Синглтон" БД и сервера.

---

### Слайд 3: Распределенная архитектура с load balancer

**Пример:**

- Клиент → **Load Balancer (Nginx, AWS ALB)** → Множество серверов приложений → Централизованная БД.
- **Горизонтальное маштабирование**: Добавление новых серверов за Load Balancer.
- Проблемы: Одна точка отказа (БД), нагрузка на базу.

---

### Слайд 4: Микросервисная архитектура

**Пример:**

- Клиент → API Gateway → **Load Balancer** → Услуги (UserService, OrderService).
- **Базы данных "на уровне сервиса"**: Каждый сервис имеет свою БД (PostgreSQL, MongoDB).
- Маштабирование: Горизонтальное для каждого сервиса отдельно.

---

### Слайд 5: Пример с Load Balancer и маштабированием

**Сценарий:** Интернет-магазин.

1. **Базовый вариант**: 1 сервер + MySQL → Вертикальное маштабирование (добавить RAM).
2. **Горизонтальное маштабирование**:
   - Добавить 3 веб-сервера.
   - Load Balancer распределяет трафик между ними.
3. **Маштабирование БД**: Использовать Репликацию MySQL (мастер + несколько слейвов).

---

### Слайд 6: Пример микросервисной архитектуры

**Кейс:** Приложение для бронирования билетов.

- **Сервисы**:
  - UserService → MongoDB,
  - BookingService → Redis + PostgreSQL,
  - PaymentService → AWS Lambda.
- **Маштабирование**: Горизонтальное добавление экземпляров каждого сервиса через Kubernetes.

---

### Слайд 7: Сравнение типов маштабирования

| Метод              | Описание                          | Пример                                      | Недостатки                                            |
| ------------------ | --------------------------------- | ------------------------------------------- | ----------------------------------------------------- |
| **Вертикальное**   | Улучшение одного узла (CPU, RAM). | Добавление SSD диска к серверу.             | Границы технических ограничений.                      |
| **Горизонтальное** | Добавление новых узлов в кластер. | Load Balancer + 3 новых экземпляра сервера. | Необходимость балансировки и синхронизации состояния. |

---

### Слайд 8: Роль баз данных

| Архитектура        | Базы данных                                             |
| ------------------ | ------------------------------------------------------- |
| **Монолитная**     | Одна централизованная БД (MySQL).                       |
| **Распределенная** | Шардированная БД или кластер (MongoDB Sharded Cluster). |
| **Микросервисная** | База "в каждом сервисе" + Event Sourcing/CQRS.          |

---

### Слайд 9: Выбор архитектуры

**Критерии:**

1. Масштаб проекта:
   - Малые приложения → монолит,
   - Гиганты (Netflix) → микросервисы.
2. Комплексность управления:
   - Микросервисы требуют DevOps и инфраструктуры (Kubernetes).
3. Стоимость: Горизонтальное маштабирование может быть дороже вертикального.
